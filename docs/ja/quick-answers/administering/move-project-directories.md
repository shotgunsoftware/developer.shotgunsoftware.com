---
layout: default
title: プロジェクト ディレクトリを新しいローカル ストレージのルートに移動するにはどうすればいいですか?
pagename: move-project-directories
lang: ja
---

# プロジェクト ディレクトリを新しいローカル ストレージのルートに移動するにはどうすればいいですか?

{% include warning title="注意" content="プロジェクトの途中でプロジェクトの場所を移動すると、ShotGrid Toolkit の範囲を超えて問題が発生する可能性があります。安易に実行しないように注意してください。"%}

必要に応じて、プロジェクト ファイル(シーン ファイルやレンダリングなど)を 新しいルート ストレージ場所に移動することがあります(たとえば `/mnt/smalldrive` から `/mnt/bigdrive/foo` へ)。このためには、単一ルート設定またはマルチルート設定を使用します。たとえば、「**asset_storage**」という名前のストレージを移動するとします。

- 古い場所から新しい場所にプロジェクト ファイルをコピー(または移動)します。
- {% include product %} で、**[管理者] (Admin) > [サイト基本設定](Site Preferences)**ページに移動して、**[ファイル管理](File Management)**セクションを開きます。
   ![サイト基本設定の {% include product %} ストレージのルート セクション。](./images/shotgun-storage-roots.png)
- 各プラットフォームでプロジェクト ファイルの新しいストレージへのパスを設定して、「primary」と言う名前のローカル ファイル ストレージを更新します。特定のプラットフォームを使用していない場合は、空白のままにします。
- ページの上部または下部にある**[変更を保存](Save Changes)**ボタンをクリックします。
- {% include product %} で保存したばかりの新しいパスの値と一致するようにプロジェクト設定の `config/core/roots.yml` ファイルを更新します。

Toolkit はパブリッシュ パスをストレージ ルートの相対パスとして保存します。そのため、古いストレージ ルートを使用すると、パスはその前提に基づいて展開されていました。

    [asset_storage]/assets/Character/betty => /mnt/smalldrive/assets/Character/betty

新しいストレージ ルートの定義を使用すると、パスは次のように展開されます。

    [asset-storage]/assets/Character/betty => /mnt/bigdrive/foo/assets/Character/betty

これで、{% include product %} や Toolkit 内の他のパブリッシュ情報の更新を心配する必要はありません。

{% include warning title="警告" content="上記の手順では、既存のストレージ ルートのパスを変更していると想定しています。既存のストレージを破棄するか、新規のストレージを作成する場合は、すべてのフォルダを再登録して `PublishedFiles` エンティティを再公開する必要があります。"%}

## 参考情報

シーン ファイルで古いパスを指定している場合は、自分でパスを更新するか、パスが適切に解決されるようにシンボリック リンクを作成する必要があります。

## バージョン

この変更の影響を受ける[ムービーのパス](Path to Movie)フィールドまたは[フレームのパス](Path to Frames)フィールドに情報を持つバージョン エンティティを {% include product %} で使用する場合、これらのフィールドも新しい場所をポイントするように更新する必要があります。これらのフィールドは、メディアへの絶対パスを含む文字列フィールドであるためです。